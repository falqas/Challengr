<!--

challenge-create.html
create a new challenge

Parent Controller : challengeNC
  Child 1 Controller : challengeStep1Ctrl
  Child 2 Controller : challengeStep2Ctrl
  Child 3 Controller : challengeStep3Ctrl

-->

<uib-tabset class="steps" justified="true">
  <spinner name="challengeSpinner" img-src="image/spinner.gif"></spinner>

  <uib-tab heading="Create Challenge" active="challengeNC.tabs[0]">
    <div class="row" ng-controller="challengeStep1Ctrl as step1">
      <div class="col-md-6">
        <div class="form-group">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Enter Challenger.." ng-model="friendSearch">
            <span class="input-group-addon"><i class="icon-budicon-11"></i></span>
          </div>
          <ul class="friendList" ng-init="step1.loadFriends()">
            <li ng-repeat="friend in step1.friends | filter : friendSearch | limitTo : 5" ng-click="step1.addFriend(friend)">
              <img ng-src="image/placeholder.png">
              <p>{{friend.firstName}} {{friend.lastName}}</p>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-md-6 challengeTypes">
        <h1>Challenge Types</h1>
        <div class="btn-group">
          <label class="badge btn-primary" ng-model="radioModel" uib-btn-radio="'Basketball'">Basketball</label>
          <label class="badge btn-primary" ng-model="radioModel" uib-btn-radio="'Education'">Education</label>
          <label class="badge btn-primary" ng-model="radioModel" uib-btn-radio="'Gym'">Gym</label>
          <label class="badge btn-primary" ng-model="radioModel" uib-btn-radio="'Drinking'">Drinking</label>
          <label class="badge btn-primary" ng-model="radioModel" uib-btn-radio="'Trending'">Trending</label>
          <label class="badge btn-primary" ng-model="radioModel" uib-btn-radio="'Swimming'">Swimming</label>
        </div>
        <input type="text" class="form-control" placeholder="Challenge Title" ng-model="title">
        <textarea type="text" col="2" class="form-control" placeholder="Challenge Description" ng-model="description"></textarea>
      </div>
    </div>
  </uib-tab>

  <uib-tab heading="Pick Charity" active="challengeNC.tabs[1]">
    <div class="row" ng-controller="challengeStep2Ctrl as step2">

      <ul class="grid-testimonials">
        <li ng-repeat="charity in step2.charities" ng-click="step2.chooseCharity(self)">
          <div>
            <h1>{{charity.name}}</h1>
            <p>{{charity.description}}</p>
            <a href="{{charity.website}}">{{charity.website}}</a>
            <span class="quote-arrow"></span>
          </div>
          <span class="grid-testimonials-citation"><img ng-src="{{charity.img}}" width="100%"></span>
        </li>
      </ul>

    </div>
  </uib-tab>

  <uib-tab heading="Submit">
    <div class="row" ng-controller="challengeStep3Ctrl as step3">
      <div class="col-md-6">
        <h1>Select Payment Info</h1>
        <!-- Braintree Drop-In Payment UI -->
        <div ng-include="'partial/payment.html'"></div>
      </div>
      <div class="col-md-6">
        <h1>OverView</h1>
        <div ng-include="'partial/paymentAmount.html'"></div>
      </div>
    </div>
  </uib-tab>

</uib-tabset>

<div class="row tab--footer">

  <button type="button" class="btn btn-default dropdown-toggle pull-left" ng-click="challengeNC.prevTab()" ng-if="challengeNC.currentTab > 0" data-toggle="dropdown">
    <span class="icon-arrow-circle-o-left"></span> Back
  </button>

  <button type="button" class="btn btn-default dropdown-toggle pull-right" ng-click="challengeNC.nextTab()" ng-if="challengeNC.currentTab < 2" data-toggle="dropdown">
    Next <span class="icon-arrow-circle-o-right"></span>
  </button>

  <button ng-if="challengeNC.currentTab === 2" class="btn btn-success pull-right" ng-click="challengeNC.save()">Create Challenge</button>
</div>


